{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useIMGNormalizedSource;\nvar _react = require(\"react\");\nvar _SharedPropsProvider = require(\"../context/SharedPropsProvider\");\nfunction useIMGNormalizedSource(_ref) {\n  let {\n    source,\n    specifiedDimensions\n  } = _ref;\n  const cachedDimensions = (0, _react.useRef)(specifiedDimensions);\n  const {\n    provideEmbeddedHeaders\n  } = (0, _SharedPropsProvider.useSharedProps)();\n  return (0, _react.useMemo)(() => {\n    if (source.uri && typeof provideEmbeddedHeaders === 'function') {\n      var _cachedDimensions$cur, _cachedDimensions$cur2;\n      const headers = provideEmbeddedHeaders(source.uri, 'img', {\n        printWidth: ((_cachedDimensions$cur = cachedDimensions.current) === null || _cachedDimensions$cur === void 0 ? void 0 : _cachedDimensions$cur.width) || undefined,\n        printHeight: ((_cachedDimensions$cur2 = cachedDimensions.current) === null || _cachedDimensions$cur2 === void 0 ? void 0 : _cachedDimensions$cur2.height) || undefined\n      });\n      if (headers) {\n        return {\n          headers,\n          ...source\n        };\n      }\n    }\n    return source;\n  }, [provideEmbeddedHeaders, source]);\n}","map":{"version":3,"mappings":";;;;;;AAAA;AACA;AAMe,SAASA,sBAAT,OAKZ;EAAA,IAL4C;IAC7CC,MAD6C;IAE7CC;EAF6C,CAAhC;EAMb,MAAMC,gBAAgB,GAAG,mBAAOD,mBAAP,CAAzB;EACA,MAAM;IAAEE;EAAF,IAA6B,0CAAnC;EACA,OAAO,oBAAQ,MAAM;IACnB,IAAIH,MAAM,CAACI,GAAP,IAAc,OAAOD,sBAAP,KAAkC,UAApD,EAAgE;MAAA;MAC9D,MAAME,OAAO,GAAGF,sBAAsB,CAACH,MAAM,CAACI,GAAR,EAAa,KAAb,EAAoB;QACxDE,UAAU,EAAE,0CAAgB,CAACC,OAAjB,gFAA0BC,KAA1B,KAAmCC,SADS;QAExDC,WAAW,EAAE,2CAAgB,CAACH,OAAjB,kFAA0BI,MAA1B,KAAoCF;MAFO,CAApB,CAAtC;MAIA,IAAIJ,OAAJ,EAAa;QACX,OAAO;UACLA,OADK;UAEL,GAAGL;QAFE,CAAP;MAID;IACF;IACD,OAAOA,MAAP;EACD,CAdM,EAcJ,CAACG,sBAAD,EAAyBH,MAAzB,CAdI,CAAP;AAeD","names":["useIMGNormalizedSource","source","specifiedDimensions","cachedDimensions","provideEmbeddedHeaders","uri","headers","printWidth","current","width","undefined","printHeight","height"],"sources":["/home/shirin/Desktop/Frontend Assessment- Hacker Rank Clone /node_modules/react-native-render-html/lib/commonjs/elements/useIMGNormalizedSource.ts"],"sourcesContent":["import { useMemo, useRef } from 'react';\nimport { useSharedProps } from '../context/SharedPropsProvider';\nimport {\n  IncompleteImageDimensions,\n  UseIMGElementStateProps\n} from './img-types';\n\nexport default function useIMGNormalizedSource({\n  source,\n  specifiedDimensions\n}: Pick<UseIMGElementStateProps, 'source'> & {\n  specifiedDimensions: IncompleteImageDimensions;\n}) {\n  const cachedDimensions = useRef(specifiedDimensions);\n  const { provideEmbeddedHeaders } = useSharedProps();\n  return useMemo(() => {\n    if (source.uri && typeof provideEmbeddedHeaders === 'function') {\n      const headers = provideEmbeddedHeaders(source.uri, 'img', {\n        printWidth: cachedDimensions.current?.width || undefined,\n        printHeight: cachedDimensions.current?.height || undefined\n      });\n      if (headers) {\n        return {\n          headers,\n          ...source\n        };\n      }\n    }\n    return source;\n  }, [provideEmbeddedHeaders, source]);\n}\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}